@startuml
class Customer <<abstract>>
class Customer{
Ticket ValidTicket
}

class ClickCustomer{
String username
String password
Booking ValidBooking
ArrayList<Booking> HistoryBooking
Boolean IsLongTermCustomer
}

class BrickCustomer{

}

class Booking{
DateTime  BookedVisitTime
Time ExpectedVisitDuration
ArrayList<ItemToBuy> CategoriesIntendBuy
String PlaceDepartureFrom
Time ActualVisitedDuration
UpdateTheActualVisitedDuration()
}

class Ticket{
String QRCode
String EstimatedDepartureTime
Int QueueNumber
String StorePlannedRoadmap
GenerateQRCode()
GenerateQueueNumber()
CalculateTheDepartureTime()
ReceiveTheRoadMapFromBookSchedule()
}


class QueueSchedule{
ArrayList<Customer> CurrentQueue
ArrayList<Customer> CustomerInStore
Int MaximumNumberInTheStore
CallNextCustomer()
ScheduleQueueFromBooking()
ScheduleQueueForBrickCustomer()
CustomerCheckIn()
CustomerCheckOut()
AdjustTheQueueOrder()
ModifyMaximumNumber()
}

class BookSchedule{
TakeAvailableTime()
AddBook()
RescheduleBook()
GenerateRoadMapForSameTimeCustomers()
}

class CRM{
RegistryNewClickCustomer()
CheckOutAClickCustomerData()
ReceiveAndInsertANewBook()
AnalysisIsTheLongTermCustomer()
SendTicketToCustomer()
SendNotifyToCustomer()
UpdateTicketForCustomer()
}

ClickCustomer o-- Booking
Customer <|-- ClickCustomer
Customer <|-- BrickCustomer
CRM --- BookSchedule
BookSchedule "1 " --- "1 " QueueSchedule
CRM "1  " --- "1..*" Customer
Customer o--- Ticket

@enduml
